<mxfile host="app.diagrams.net" modified="2024-01-01T00:00:00.000Z" agent="5.0" version="21.0.0" etag="architecture" type="device">
  <diagram name="System Architecture" id="architecture">
    <mxGraphModel dx="1422" dy="794" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1169" pageHeight="827" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        
        <!-- Title -->
        <mxCell id="title" value="Knowledge Graph / Wiki System Architecture" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=20;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="350" y="40" width="470" height="40" as="geometry" />
        </mxCell>
        
        <!-- Docker Compose Container -->
        <mxCell id="docker-container" value="Docker Compose Network" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;strokeWidth=3;dashed=1;dashPattern=8 8;" vertex="1" parent="1">
          <mxGeometry x="80" y="120" width="1000" height="600" as="geometry" />
        </mxCell>
        
        <!-- User -->
        <mxCell id="user" value="User / Client" style="shape=umlActor;verticalLabelPosition=bottom;verticalAlign=top;html=1;outlineConnect=0;fillColor=#f5f5f5;strokeColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="60" y="200" width="60" height="100" as="geometry" />
        </mxCell>
        
        <!-- FastAPI Service -->
        <mxCell id="api-service" value="FastAPI Service&#xa;(api)&#xa;&#xa;Port: 8000&#xa;Host: 0.0.0.0&#xa;&#xa;Endpoints:&#xa;• /health&#xa;• /api/search&#xa;• /api/articles&#xa;• /api/topics&#xa;• /api/authors&#xa;• /docs (Swagger)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontStyle=1;fontSize=12;align=left;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="200" y="200" width="280" height="200" as="geometry" />
        </mxCell>
        
        <!-- Neo4j Service -->
        <mxCell id="neo4j-service" value="Neo4j Database&#xa;(neo4j)&#xa;&#xa;Ports:&#xa;• 7687 (Bolt)&#xa;• 7474 (HTTP/Browser)&#xa;&#xa;Auth: neo4j/password&#xa;Data: /data volume" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontStyle=1;fontSize=12;align=left;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="600" y="200" width="280" height="200" as="geometry" />
        </mxCell>
        
        <!-- Seed Script -->
        <mxCell id="seed-script" value="Seed Script&#xa;(scripts/seed_data.py)&#xa;&#xa;Creates:&#xa;• Constraints&#xa;• Indexes&#xa;• Sample data" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontStyle=1;fontSize=11;align=left;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="200" y="480" width="200" height="120" as="geometry" />
        </mxCell>
        
        <!-- Data Flows -->
        <!-- User -> API (HTTP) -->
        <mxCell id="user-to-api" value="HTTP/REST&#xa;Port 8000" style="endArrow=block;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=2;strokeColor=#82b366;dashed=1;" edge="1" parent="1" source="user" target="api-service">
          <mxGeometry width="50" height="50" relative="1" as="geometry" />
        </mxCell>
        
        <!-- API -> Neo4j (Bolt) -->
        <mxCell id="api-to-neo4j" value="Bolt Protocol&#xa;Port 7687&#xa;Cypher Queries" style="endArrow=block;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=2;strokeColor=#d6b656;" edge="1" parent="1" source="api-service" target="neo4j-service">
          <mxGeometry width="50" height="50" relative="1" as="geometry" />
        </mxCell>
        
        <!-- User -> Neo4j Browser (HTTP) -->
        <mxCell id="user-to-neo4j" value="HTTP&#xa;Port 7474&#xa;Neo4j Browser" style="endArrow=block;html=1;rounded=0;exitX=1;exitY=0.75;exitDx=0;exitDy=0;entryX=0;entryY=0.25;entryDx=0;entryDy=0;strokeWidth=2;strokeColor=#b85450;dashed=1;curved=1;" edge="1" parent="1" source="user" target="neo4j-service">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="200" y="400" as="sourcePoint" />
            <mxPoint x="700" y="300" as="targetPoint" />
            <Array as="points">
              <mxPoint x="200" y="250" />
              <mxPoint x="550" y="250" />
            </Array>
          </mxGeometry>
        </mxCell>
        
        <!-- Seed Script -> Neo4j -->
        <mxCell id="seed-to-neo4j" value="Bolt Protocol&#xa;Port 7687&#xa;Data Ingestion" style="endArrow=block;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;strokeWidth=2;strokeColor=#9673a6;dashed=1;" edge="1" parent="1" source="seed-script" target="neo4j-service">
          <mxGeometry width="50" height="50" relative="1" as="geometry" />
        </mxCell>
        
        <!-- Volumes -->
        <mxCell id="volumes-label" value="Docker Volumes:" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="600" y="480" width="150" height="20" as="geometry" />
        </mxCell>
        <mxCell id="volumes-text" value="• neo4j_data: /data&#xa;• neo4j_logs: /logs&#xa;• api: /code (bind mount)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="600" y="500" width="200" height="60" as="geometry" />
        </mxCell>
        
        <!-- Environment -->
        <mxCell id="env-label" value="Environment Variables:" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="600" y="560" width="200" height="20" as="geometry" />
        </mxCell>
        <mxCell id="env-text" value="• NEO4J_URI&#xa;• NEO4J_USER&#xa;• NEO4J_PASSWORD" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="600" y="580" width="200" height="50" as="geometry" />
        </mxCell>
        
        <!-- Notes -->
        <mxCell id="notes-box" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;dashed=1;" vertex="1" parent="1">
          <mxGeometry x="80" y="640" width="1000" height="60" as="geometry" />
        </mxCell>
        <mxCell id="notes-text" value="Note: All services run in Docker Compose. The API service depends on Neo4j and connects via Bolt protocol. Users can access the API via HTTP on port 8000 or directly access Neo4j Browser on port 7474." style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontStyle=2" vertex="1" parent="1">
          <mxGeometry x="100" y="650" width="960" height="40" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>

